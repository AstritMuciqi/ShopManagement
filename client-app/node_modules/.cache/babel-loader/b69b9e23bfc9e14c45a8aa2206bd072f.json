{"ast":null,"code":"var _jsxFileName = \"D:\\\\Semestri-IV\\\\Programim\\\\Shop Management\\\\client-app\\\\src\\\\feautures\\\\Crud-Forma\\\\productForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Segment, Form, Button, Dropdown } from 'semantic-ui-react';\nimport { v4 as uuid } from 'uuid';\nimport '../../app/layout/DashboardLayout/styles.css';\nimport agent from '../../app/API/agent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductForm = ({\n  setEditMode,\n  product: initialFormState,\n  editProduct,\n  createProduct\n}) => {\n  _s();\n\n  const initializeForm = () => {\n    if (initialFormState) {\n      return initialFormState;\n    } else {\n      return {\n        productId: '',\n        productName: '',\n        sector: '',\n        brand: '',\n        valueOfProduct: '',\n        modelYear: '',\n        quantity: '',\n        description: ''\n      };\n    }\n  };\n\n  const [product, setProduct] = useState(initializeForm);\n\n  const handleSubmit = () => {\n    if (product.productId.length === 0) {\n      let newProduct = { ...product,\n        productId: uuid()\n      };\n      createProduct(newProduct);\n    } else {\n      editProduct(product);\n    }\n  };\n\n  const [sectors, setSectors] = useState([]);\n  const [brands, setBrands] = useState([]);\n  useEffect(() => {\n    agent.Sectors.sectorList().then(response => {\n      let sectors = [];\n      response.forEach(sector => {\n        sector.sectorName = sector.sectorName.split(\".\")[0];\n        sectors.push(sector);\n      });\n      setSectors(sectors);\n    });\n  }, []);\n  useEffect(() => {\n    agent.Brands.brandList().then(response => {\n      let brands = [];\n      response.forEach(brand => {\n        brand.brandName = brand.brandName.split(\".\")[0];\n        brands.push(brand);\n      });\n      setBrands(brands);\n    });\n  }, []);\n\n  const handleBrandChange = (ev, {\n    value\n  }) => {\n    setProduct({ ...product,\n      brand: value\n    });\n  };\n\n  const handleSectorChange = (ev, {\n    value\n  }) => {\n    setProduct({ ...product,\n      sector: value\n    });\n  };\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.currentTarget;\n    setProduct({ ...product,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Segment, {\n    clearing: true,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleInputChange,\n        name: \"productName\",\n        placeholder: \"Product Name\",\n        value: product.productName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n        placeholder: \"Select Sector\",\n        onChange: handleSectorChange,\n        fluid: true,\n        search: true,\n        selection: true,\n        options: sectors.map(sector => ({\n          key: sector.sectorId,\n          value: sector.sectorName,\n          text: sector.sectorName\n        })),\n        value: product.sector\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n        placeholder: \"Select Brand\",\n        onChange: handleBrandChange,\n        fluid: true,\n        search: true,\n        selection: true,\n        options: brands.map(brand => ({\n          key: brand.brandId,\n          value: brand.brandName,\n          text: brand.brandName\n        })),\n        value: product.brand\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleInputChange,\n        name: \"valueOfProduct\",\n        type: \"numeber\",\n        step: \"0.01\",\n        placeholder: \"ValueOfProduct\",\n        value: product.valueOfProduct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleInputChange,\n        name: \"modelYear\",\n        type: \"date\",\n        placeholder: \"Model Year\",\n        value: product.modelYear\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n        onChange: handleInputChange,\n        name: \"quantity\",\n        type: \"number\",\n        placeholder: \"Quantity\",\n        value: product.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.TextArea, {\n        onChange: handleInputChange,\n        name: \"description\",\n        rows: 2,\n        placeholder: \"Description\",\n        value: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        floated: \"right\",\n        positive: true,\n        type: \"submit\",\n        content: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setEditMode(false),\n        floated: \"right\",\n        type: \"button\",\n        content: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductForm, \"otKgRj0KMYqQVt2f71NUKZHn6uk=\");\n\n_c = ProductForm;\nexport default ProductForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"sources":["D:/Semestri-IV/Programim/Shop Management/client-app/src/feautures/Crud-Forma/productForm.tsx"],"names":["React","useState","useEffect","Segment","Form","Button","Dropdown","v4","uuid","agent","ProductForm","setEditMode","product","initialFormState","editProduct","createProduct","initializeForm","productId","productName","sector","brand","valueOfProduct","modelYear","quantity","description","setProduct","handleSubmit","length","newProduct","sectors","setSectors","brands","setBrands","Sectors","sectorList","then","response","forEach","sectorName","split","push","Brands","brandList","brandName","handleBrandChange","ev","value","handleSectorChange","handleInputChange","event","name","currentTarget","map","key","sectorId","text","brandId"],"mappings":"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","sourcesContent":["import React, { useState, FormEvent, useEffect } from 'react';\r\nimport { Segment, Form, Button, DropdownProps, Dropdown } from 'semantic-ui-react';\r\nimport {v4 as uuid} from 'uuid';\r\nimport { IProduct } from '../../app/models/product';\r\nimport '../../app/layout/DashboardLayout/styles.css';\r\nimport { ISector } from '../../app/models/sector';\r\nimport agent from '../../app/API/agent';\r\nimport axios from 'axios';\r\nimport { IBrand } from '../../app/models/brand';\r\n\r\ninterface IProps {\r\n  setEditMode: (editMode: boolean) => void;\r\n  product: IProduct;\r\n  createProduct: (product: IProduct) => void;\r\n  editProduct: (product: IProduct) => void;\r\n}\r\n\r\nconst ProductForm: React.FC<IProps> = ({\r\n  setEditMode,\r\n  product: initialFormState,\r\n  editProduct,\r\n  createProduct\r\n}) => {\r\n  const initializeForm = () => {\r\n    if (initialFormState) {\r\n      return initialFormState;\r\n    } else {\r\n      return {\r\n        productId: '',\r\n        productName: '',\r\n        sector: '',\r\n        brand: '',\r\n        valueOfProduct: '',\r\n        modelYear: '',\r\n        quantity: '',\r\n        description: ''\r\n        \r\n      };\r\n    }\r\n  };\r\n\r\n  const [product, setProduct] = useState<IProduct>(initializeForm);\r\n\r\n\r\n  const handleSubmit = () => {\r\n    if (product.productId.length === 0) {\r\n      let newProduct = {\r\n        ...product,\r\n        productId: uuid()\r\n      };\r\n      createProduct(newProduct);\r\n    } else {\r\n      editProduct(product);\r\n    }\r\n  };\r\n\r\n  const [sectors, setSectors] = useState<ISector[]>([]);\r\n  const [brands, setBrands] = useState<IBrand[]>([]);\r\n\r\n\r\n  useEffect(() => {\r\n    agent.Sectors.sectorList()\r\n      .then((response) => {\r\n        let sectors: ISector[] = [];\r\n        response.forEach((sector) => {\r\n          sector.sectorName = sector.sectorName.split(\".\")[0];\r\n          sectors.push(sector);\r\n        });\r\n        setSectors(sectors);\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    agent.Brands.brandList()\r\n      .then((response) => {\r\n        let brands: IBrand[] = [];\r\n        response.forEach((brand) => {\r\n          brand.brandName = brand.brandName.split(\".\")[0];\r\n          brands.push(brand);\r\n        });\r\n        setBrands(brands);\r\n      });\r\n  }, []);\r\n  const handleBrandChange=(\r\n    ev: React.SyntheticEvent, {value}:any\r\n    )=>{\r\n      setProduct({...product,brand: value})\r\n    };\r\n  const handleSectorChange =(\r\n    ev: React.SyntheticEvent, {value}:any\r\n    )=>{\r\n      setProduct({...product,sector: value})\r\n    };\r\n  const handleInputChange = (\r\n    event: FormEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const { name, value } = event.currentTarget;\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <Segment clearing>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Input\r\n          onChange={handleInputChange}\r\n          name=\"productName\"\r\n          placeholder=\"Product Name\"\r\n          value={product.productName}\r\n        />\r\n\r\n        <Dropdown\r\n          placeholder=\"Select Sector\"\r\n          onChange={handleSectorChange}\r\n          fluid\r\n          search\r\n          selection\r\n          options={sectors.map((sector) => ({\r\n            key: sector.sectorId,\r\n            value: sector.sectorName,\r\n            text: sector.sectorName,\r\n          }))}\r\n          value={product.sector}\r\n        />\r\n\r\n        <Dropdown\r\n          placeholder=\"Select Brand\"\r\n          onChange={handleBrandChange}\r\n          fluid\r\n          search\r\n          selection\r\n          options={brands.map((brand) => ({\r\n            key: brand.brandId,\r\n            value: brand.brandName,\r\n            text: brand.brandName,\r\n          }))}\r\n          value={product.brand}\r\n        />\r\n        <Form.Input\r\n          onChange={handleInputChange}\r\n          name=\"valueOfProduct\"\r\n          type=\"numeber\"\r\n          step=\"0.01\"\r\n          placeholder=\"ValueOfProduct\"\r\n          value={product.valueOfProduct}\r\n        />\r\n        <Form.Input\r\n          onChange={handleInputChange}\r\n          name=\"modelYear\"\r\n          type=\"date\"\r\n          placeholder=\"Model Year\"\r\n          value={product.modelYear}\r\n        />\r\n        <Form.Input\r\n          onChange={handleInputChange}\r\n          name=\"quantity\"\r\n          type=\"number\"\r\n          placeholder=\"Quantity\"\r\n          value={product.quantity}\r\n        />\r\n        <Form.TextArea\r\n          onChange={handleInputChange}\r\n          name=\"description\"\r\n          rows={2}\r\n          placeholder=\"Description\"\r\n          value={product.description}\r\n        />\r\n        <Button floated=\"right\" positive type=\"submit\" content=\"Submit\" />\r\n        <Button\r\n          onClick={() => setEditMode(false)}\r\n          floated=\"right\"\r\n          type=\"button\"\r\n          content=\"Cancel\"\r\n        />\r\n      </Form>\r\n    </Segment>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n"]},"metadata":{},"sourceType":"module"}